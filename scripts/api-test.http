### é…ç½®å˜é‡
@baseUrl = http://localhost:8080

### Token é…ç½®
@tokenGroup = 691d3b1c77279273a79275f5
@tokenEnterprise = 9eaebbf614104879b81c2da7c41819bd

### ChatId é…ç½®
@chatIdGroup = 68e763179d6d3a463bac17d0
@RoomId = R:10760500454131407
@ArielChatId = 691d3db49d6d3a463b1a0af3
// é€šè¿‡å°ç»„è”ç³»äººåˆ—è¡¨è·å–
@GroupChatId = 68e763179d6d3a463bac17d0

### å…¶ä»–å¸¸ç”¨å‚æ•°
@wecomUserId = ZhuJie
@imBotId = 68d3b986de170dd6eb01982a
@wxid = 1688854747775509

### ========================================
### 3. æµ‹è¯•è·å–å°ç»„åˆ—è¡¨æ¥å£ï¼ˆä½¿ç”¨ä¼ä¸šçº§ tokenï¼‰
GET {{baseUrl}}/group/list
  ?token={{tokenEnterprise}}

### ========================================
### 4. æµ‹è¯•æ‰˜ç®¡è´¦å·åˆ—è¡¨æ¥å£ï¼ˆä½¿ç”¨å°ç»„çº§ tokenï¼‰
GET {{baseUrl}}/bot/list
  ?token={{tokenGroup}}

### ========================================
### 5. æµ‹è¯•æ¶ˆæ¯æ¥æ”¶æ¥å£ï¼ˆæ—§æ ¼å¼ - å…¼å®¹ï¼‰â­ è·¯ç”±å·²æ›´æ–°ä¸º /message
POST {{baseUrl}}/message
Content-Type: application/json

{
  "type": "text",
  "content": "è¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯",
  "from": "test_user",
  "timestamp": 1234567890
}

### ========================================
### 5.0 æµ‹è¯•æ¶ˆæ¯å‘é€ç»“æœå›è°ƒæ¥å£ â­ è·¯ç”±å·²æ›´æ–°ä¸º /message/sent-result
POST {{baseUrl}}/message/sent-result
Content-Type: application/json

{
  "messageId": "msg_123456",
  "status": "success",
  "timestamp": 1728648000000
}

### ========================================
### 5.1 æµ‹è¯•æ¶ˆæ¯æ¥æ”¶æ¥å£ï¼ˆä¼å¾®æœºå™¨äººæ ‡å‡†æ ¼å¼ - æ–‡æœ¬æ¶ˆæ¯ï¼‰
POST {{baseUrl}}/message
Content-Type: application/json

{
  "data": {
    "messageId": "msg_test_12345",
    "chatId": "{{GroupChatId}}",
    "token": "{{tokenGroup}}",
    "botId": "{{imBotId}}",
    "botWxid": "weixin_bot_123",
    "botWeixin": "bot_employee_id",
    "contactName": "æµ‹è¯•ç”¨æˆ·",
    "contactId": "wxid_test123456",
    "externalUserId": "external_user_123",
    "type": 7,
    "timestamp": 1728648000000,
    "payload": {
      "text": "ä½ å¥½ï¼Œè¿™æ˜¯ä¸€æ¡æµ‹è¯•æ¶ˆæ¯ï¼Œè¯·å›å¤"
    },
    "contactType": 1,
    "isSelf": false,
    "mentionSelf": false
  }
}

### ========================================
### 5.2 æµ‹è¯•ç¾¤èŠæ¶ˆæ¯ï¼ˆ@ æœºå™¨äººï¼‰
POST {{baseUrl}}/message
Content-Type: application/json

{
  "data": {
    "messageId": "msg_room_12345",
    "chatId": "{{GroupChatId}}",
    "token": "{{tokenGroup}}",
    "botId": "{{imBotId}}",
    "botWxid": "weixin_bot_123",
    "botWeixin": "bot_employee_id",
    "contactName": "ç¾¤èŠæµ‹è¯•ç”¨æˆ·",
    "contactId": "wxid_room_test123",
    "externalUserId": "external_room_123",
    "type": 7,
    "timestamp": 1728648000000,
    "payload": {
      "text": "@æœºå™¨äºº å¸®æˆ‘æŸ¥è¯¢ä¸€ä¸‹ä»Šå¤©çš„å¤©æ°”"
    },
    "contactType": 2,
    "isSelf": false,
    "mentionSelf": true,
    "roomId": "{{GroupChatId}}",
    "roomName": "æµ‹è¯•ç¾¤èŠ"
  }
}

### ========================================
### 5.3 æµ‹è¯•æ¥å£ï¼šæ¨¡æ‹Ÿæ¶ˆæ¯å›è°ƒï¼ˆç®€åŒ–ç‰ˆï¼‰- è§¦å‘ AI è‡ªåŠ¨å›å¤ â­ æ–°å¢
POST {{baseUrl}}/message/test
Content-Type: application/json

{
  "text": "æˆ‘ä½åœ¨æ¨æµ¦",
  "chatId": "test_chat_001",
  "contactName": "å¼ ä¸‰",
  "token": "{{tokenGroup}}"
}

### ========================================
### 5.4 æµ‹è¯•æ¥å£ï¼šè¯¢é—®å…·ä½“å²—ä½
POST {{baseUrl}}/message/test
Content-Type: application/json

{
  "text": "æˆ‘åœ¨äº”è§’åœºé™„è¿‘ï¼Œæœ‰ä»€ä¹ˆå…¼èŒå—ï¼Ÿ",
  "chatId": "test_chat_001",
  "contactName": "å¼ ä¸‰"
}

### ========================================
### 5.5 æµ‹è¯•æ¥å£ï¼šè¯¢é—®è–ªèµ„
POST {{baseUrl}}/message/test
Content-Type: application/json

{
  "text": "æ—¶è–ªå¤šå°‘ï¼Ÿ",
  "chatId": "test_chat_001",
  "contactName": "å¼ ä¸‰"
}

### ========================================
### 5.6 æµ‹è¯•æ¥å£ï¼šè¯¢é—®å·¥ä½œæ—¶é—´
POST {{baseUrl}}/message/test
Content-Type: application/json

{
  "text": "ä¸€å‘¨è¦ä¸Šå‡ å¤©ç­ï¼Ÿ",
  "chatId": "test_chat_001",
  "contactName": "å¼ ä¸‰"
}

### ========================================
### 5.7 æµ‹è¯•æ¥å£ï¼šé¢„çº¦é¢è¯•
POST {{baseUrl}}/message/test
Content-Type: application/json

{
  "text": "æˆ‘æƒ³é¢„çº¦é¢è¯•",
  "chatId": "test_chat_001",
  "contactName": "å¼ ä¸‰"
}

### ========================================
### 5.8 æµ‹è¯•æ¥å£ï¼šæ–°çš„ä¼šè¯
POST {{baseUrl}}/message/test
Content-Type: application/json

{
  "text": "ä½ å¥½ï¼Œæˆ‘æƒ³æ‰¾å…¼èŒ",
  "chatId": "test_chat_002",
  "contactName": "æå››"
}

### ========================================
### 6.1 æµ‹è¯•å‘é€æ–‡æœ¬æ¶ˆæ¯
POST {{baseUrl}}/message/send
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "chatId": "{{GroupChatId}}",
  "externalRequestId": "test_text_001",
  "messageType": 0,
  "payload": {
    "text": "ğŸ‰ hi æ¬¢è¿è¿›ç¾¤~ è¿™é‡Œæ˜¯ç‹¬ç«‹æ—¥é¤é¥®æ‹›å‹Ÿç¾¤ï¼Œä¼šå®šæœŸå‘å¸ƒæ‹›å‹Ÿä¿¡æ¯ï¼Œä½ å¯ä»¥é€‰åˆé€‚çš„æœºä¼šæŠ¥å~ è¯·å‹¿åˆ†äº«ä¸æ­¤ç¾¤æ— å…³çš„ä¿¡æ¯/å›¾ç‰‡/é“¾æ¥æˆ–åˆ·å±ï¼Œè¿è§„ä¼šè¢«æ¸…é€€å“¦~"
  }
}

### ========================================
### 6.2 æµ‹è¯•å‘é€å›¾ç‰‡æ¶ˆæ¯
POST {{baseUrl}}/message/send
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "chatId": "{{GroupChatId}}",
  "externalRequestId": "test_image_0081",
  "messageType": 1,
  "payload": {
    "name": "test_image.jpg",
    "url": "https://example.com/images/test_image.jpg",
    "size": 102400
  }
}

### ========================================
### 6.3 æµ‹è¯•å‘é€ç½‘é¡µé“¾æ¥æ¶ˆæ¯
POST {{baseUrl}}/message/send
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "chatId": "{{GroupChatId}}",
  "externalRequestId": "test_link_0081",
  "messageType": 2,
  "payload": {
    "title": "æµ‹è¯•é“¾æ¥æ ‡é¢˜",
    "description": "è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•é“¾æ¥çš„æè¿°ä¿¡æ¯",
    "sourceUrl": "https://www.example.com",
    "imageUrl": "https://example.com/images/thumb.jpg"
  }
}

### ========================================
### 6.4 æµ‹è¯•å‘é€å°ç¨‹åºæ¶ˆæ¯
POST {{baseUrl}}/message/send
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "chatId": "{{GroupChatId}}",
  "externalRequestId": "11",
  "messageType": 4,
  "payload": {
    "title": "ç‹¬ç«‹å®¢æ‰¾å·¥ä½œ",
    "appid": "gh_55e19c5164da@app",
    "pagePath": "pages/job/index.html",
    "thumbUrl": "https://cdn.pixabay.com/photo/2025/10/05/15/06/autumn-9875155_1280.jpg",
    "username": "wx0703d5b561bca48c",
    "description": "ç‹¬ç«‹å®¢æ‰¾å·¥ä½œ"
  }
}

### ========================================
### 6.5 æµ‹è¯•åŠ å…¥ç¾¤èŠæ¥å£
POST {{baseUrl}}/room/addMember
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "botUserId": "{{wecomUserId}}",
  "contactWxid": "7881300085910772",
  "roomWxid": "R:10760500454131407"
}

### ========================================
### 6.6 æµ‹è¯•ç¾¤èŠåŠ å¥½å‹æ¥å£
POST {{baseUrl}}/room/add-friend
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "roomId": "{{RoomId}}",
  "contactId": "7881300085910772",
  "remark": "test remark",
  "helloMsg": "hello from api-test",
  "extraInfo": "extra info",
  "userId": "{{wecomUserId}}"
}

### ========================================
### 6.7 æµ‹è¯•åŠ å…¥ç¾¤èŠäº‹ä»¶å›è°ƒæ¥å£
POST {{baseUrl}}/room/joined
Content-Type: application/json

{
  "token": "{{tokenGroup}}",
  "botUserId": "{{wecomUserId}}",
  "contactWxid": "7881300085910772",
  "roomWxid": "R:10760500454131407",
  "status": "success",
  "timestamp": 1728648000000
}


### ========================================
### 7. æµ‹è¯•åˆ›å»ºç¾¤å‘æ¶ˆæ¯æ¥å£ â­ å·²è¿ç§»åˆ° MessageSenderModule
POST {{baseUrl}}/message/broadcast
Content-Type: application/json

{
    "token": "{{tokenGroup}}",
    "messages": [{
        "type": 0,
        "payload": {
            "text": "è¿™æ˜¯ç¾¤å‘æ¶ˆæ¯"
        }
    }],
    "members": [{
        "botUserId": "{{imBotId}}",
        "wxids": ["wxid1", "wxid2"]
    }],
    "hasMore": false,
    "type": 0
}

### ========================================
### 8. æµ‹è¯•è·å–ç¾¤åˆ—è¡¨æ¥å£ï¼ˆç®€å•ç‰ˆï¼‰â­ å·²è¿ç§»åˆ° RoomModule
GET {{baseUrl}}/room/simple-list
  ?token={{tokenGroup}}
  &current=0
  &pageSize=5

### ========================================
### 9. æµ‹è¯•è·å–ç¾¤åˆ—è¡¨æ¥å£ï¼ˆå«æˆå‘˜ä¿¡æ¯ï¼‰â­ å·²è¿ç§»åˆ° RoomModule
GET {{baseUrl}}/room/list
  ?token={{tokenGroup}}
  &current=0
  &pageSize=5


### ========================================
### 11. æµ‹è¯•èŠå¤©å†å²æ¥å£ï¼ˆä½¿ç”¨å°ç»„çº§ tokenï¼‰â­ å·²è¿ç§»åˆ° ChatModule
GET {{baseUrl}}/chat/history
  ?token={{tokenGroup}}
  &pageSize=5
  &snapshotDay=2025-10-10

### ========================================
### 12. æµ‹è¯•è·å–ä¼šè¯åˆ—è¡¨æ¥å£ï¼ˆä½¿ç”¨å°ç»„çº§ tokenï¼‰â­ å·²è¿ç§»åˆ° ChatModule
GET {{baseUrl}}/chat/list
  ?token={{tokenGroup}}
  &pageSize=10

### ========================================
### 13. æµ‹è¯•è·å–è”ç³»äººåˆ—è¡¨æ¥å£ï¼ˆä½¿ç”¨å°ç»„çº§ tokenï¼‰
GET {{baseUrl}}/contact/list
  ?token={{tokenGroup}}

### ========================================
### 14. æµ‹è¯•è·å–å®¢æˆ·åˆ—è¡¨æ¥å£ V2ï¼ˆä½¿ç”¨ä¼ä¸šçº§ tokenï¼‰âœ… CustomerModule ä¿ç•™
GET {{baseUrl}}/customer/v2/list
  ?token={{tokenEnterprise}}

### ========================================
### 15. æµ‹è¯•è·å–ä¼ä¸šæˆå‘˜åˆ—è¡¨æ¥å£ â­ å·²è¿ç§»åˆ° UserModule
GET {{baseUrl}}/user/list
  ?token={{tokenGroup}}
  &current=0
  &pageSize=20

### ========================================
### 16. æµ‹è¯•è·å–æŒ‡å®šä¼šè¯ä¿¡æ¯æ¥å£ â­ æ–°å¢ chat/get
GET {{baseUrl}}/chat/get
  ?token={{tokenGroup}}
  &chatId={{GroupChatId}}

### ========================================
### Agent API æµ‹è¯•
### ========================================

### 17. è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨
GET {{baseUrl}}/agent/models

### ========================================
### 18. è·å–å¯ç”¨å·¥å…·åˆ—è¡¨
GET {{baseUrl}}/agent/tools

### ========================================
### 19. è·å–å¯ç”¨ Prompt ç±»å‹åˆ—è¡¨
GET {{baseUrl}}/agent/prompt-types

### ========================================
### 20. Agent å¥åº·æ£€æŸ¥
GET {{baseUrl}}/agent/health

### ========================================
### 20.1 è·å–ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
GET {{baseUrl}}/agent/health/cache

### ========================================
### 20.2 æ¸…ç©ºä¼šè¯ç¼“å­˜æ•°æ®
POST {{baseUrl}}/agent/cache/clear

### ========================================
### 21. æµ‹è¯• Agent èŠå¤©ï¼ˆç®€å•æµ‹è¯•ï¼‰
POST {{baseUrl}}/agent/test-chat
Content-Type: application/json

{
  "message": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±",
  "conversationId": "test-user-001",
  "model": "claude-3-5-sonnet-20241022"
}

### ========================================
### 22. è·å–æ‰€æœ‰é…ç½®æ¡£æ¡ˆåˆ—è¡¨
GET {{baseUrl}}/agent/profiles

### ========================================
### 23. ä½¿ç”¨é…ç½®æ¡£æ¡ˆè¿›è¡ŒèŠå¤©ï¼ˆä¼å¾®ç¾¤å®¢æœåœºæ™¯ï¼‰
POST {{baseUrl}}/agent/chat-with-profile
Content-Type: application/json

{
  "scenario": "wechat-group-customer-service",
  "message": "æˆ‘æƒ³äº†è§£ä¸€ä¸‹æ‹›å‹Ÿä¿¡æ¯",
  "roomId": "{{GroupChatId}}",
  "fromUser": "test_user_123"
}

### ========================================
### 24. è·å–é»˜è®¤å…è®¸çš„å·¥å…·åˆ—è¡¨
GET {{baseUrl}}/agent/allowed-tools

### ========================================
### 25. æµ‹è¯•å·¥å…·å®‰å…¨æ ¡éªŒ - ä»…å…è®¸çš„å·¥å…·ï¼ˆåº”è¯¥æˆåŠŸï¼‰
POST {{baseUrl}}/agent/test-tool-validation
Content-Type: application/json

{
  "message": "å¸®æˆ‘æŸ¥è¯¢ä¸€ä¸‹èŒä½åˆ—è¡¨",
  "allowedTools": [
    "duliday_job_list",
    "duliday_job_details",
    "duliday_interview_booking"
  ],
  "conversationId": "test-allowed-tools-001"
}

### ========================================
### 26. æµ‹è¯•å·¥å…·å®‰å…¨æ ¡éªŒ - åŒ…å«ä¸å…è®¸çš„å·¥å…·ï¼ˆä¼šè¢«è¿‡æ»¤ï¼‰
POST {{baseUrl}}/agent/test-tool-validation
Content-Type: application/json

{
  "message": "å¸®æˆ‘æ‰§è¡Œä¸€äº›æ“ä½œ",
  "allowedTools": [
    "duliday_job_list",
    "unsafe_tool_1",
    "zhipin_reply_generator",
    "duliday_job_details",
    "malicious_tool"
  ],
  "conversationId": "test-filtered-tools-001"
}

### ========================================
### 27. æµ‹è¯•å·¥å…·å®‰å…¨æ ¡éªŒ - å…¨éƒ¨ä¸ºä¸å…è®¸çš„å·¥å…·ï¼ˆå…¨éƒ¨è¢«è¿‡æ»¤ï¼‰
POST {{baseUrl}}/agent/test-tool-validation
Content-Type: application/json

{
  "message": "æµ‹è¯•æ‰€æœ‰å·¥å…·éƒ½ä¸è¢«å…è®¸çš„æƒ…å†µ",
  "allowedTools": [
    "unsafe_tool_1",
    "malicious_tool",
    "dangerous_operation"
  ],
  "conversationId": "test-all-blocked-001"
}

### ========================================
### 28. è·å–å…è®¸ä½¿ç”¨çš„æ¨¡å‹åˆ—è¡¨
GET {{baseUrl}}/agent/allowed-models

### ========================================
### 29. æµ‹è¯•æ¨¡å‹å®‰å…¨æ ¡éªŒ - ä½¿ç”¨å…è®¸çš„æ¨¡å‹ï¼ˆåº”è¯¥æˆåŠŸï¼‰
POST {{baseUrl}}/agent/test-model-validation
Content-Type: application/json

{
  "message": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±",
  "model": "anthropic/claude-3-5-haiku-latest",
  "conversationId": "test-allowed-model-001"
}

### ========================================
### 30. æµ‹è¯•æ¨¡å‹å®‰å…¨æ ¡éªŒ - ä½¿ç”¨ä¸å…è®¸çš„æ¨¡å‹ï¼ˆä¼šå›é€€åˆ°é»˜è®¤æ¨¡å‹ï¼‰
POST {{baseUrl}}/agent/test-model-validation
Content-Type: application/json

{
  "message": "ä½ å¥½ï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•",
  "model": "gpt-4",
  "conversationId": "test-disallowed-model-001"
}

### ========================================
### 31. æµ‹è¯•æ¨¡å‹å®‰å…¨æ ¡éªŒ - ä½¿ç”¨å®Œå…¨æœªçŸ¥çš„æ¨¡å‹ï¼ˆä¼šå›é€€åˆ°é»˜è®¤æ¨¡å‹ï¼‰
POST {{baseUrl}}/agent/test-model-validation
Content-Type: application/json

{
  "message": "æµ‹è¯•æœªçŸ¥æ¨¡å‹",
  "model": "unknown-model-xyz",
  "conversationId": "test-unknown-model-001"
}

### ========================================
### 32. æµ‹è¯•æ¨¡å‹å®‰å…¨æ ¡éªŒ - ä½¿ç”¨å…¶ä»–å…è®¸çš„ Claude æ¨¡å‹
POST {{baseUrl}}/agent/test-model-validation
Content-Type: application/json

{
  "message": "ä½¿ç”¨ Sonnet æ¨¡å‹è¿›è¡Œæµ‹è¯•",
  "model": "anthropic/claude-3-5-sonnet-latest",
  "conversationId": "test-sonnet-model-001"
}

### ========================================
### 33. è·å–æ‰€æœ‰ä¼šè¯çš„èŠå¤©è®°å½•ï¼ˆå†…å­˜ä¸­çš„å†å²ï¼‰
GET {{baseUrl}}/message/history/all

### ========================================
### 34. è·å–æŒ‡å®šä¼šè¯çš„èŠå¤©è®°å½•
GET {{baseUrl}}/message/history/all?chatId=test_chat_123

### ========================================
### 35. è·å–æ¶ˆæ¯ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
GET {{baseUrl}}/message/cache/stats

### ========================================
### 36. è·å–æ¶ˆæ¯æœåŠ¡çŠ¶æ€
GET {{baseUrl}}/message/service/status
