# ================================
# DuLiDay 企业微信智能服务 - 环境变量配置
# ================================
# 注意：只保留需要用户配置的环境变量
# 其他配置使用合理的默认值，无需手动配置

# ================================
# 应用配置
# ================================
PORT=8080
NODE_ENV=development

# ================================
# Agent API 配置（AI 智能回复服务）
# ================================
# Agent API 密钥（必填）
AGENT_API_KEY=your-api-key-here

# Agent API 基地址（必填）
AGENT_API_BASE_URL=http://localhost:3000/api/v1

# AI 模型配置（必填）
AGENT_DEFAULT_MODEL=anthropic/claude-3-5-haiku-latest
AGENT_CHAT_MODEL=anthropic/claude-sonnet-4-5-20250929
AGENT_CLASSIFY_MODEL=openai/gpt-4o
AGENT_REPLY_MODEL=openai/gpt-5-chat-latest

# 允许使用的工具列表（必填，逗号分隔）
AGENT_ALLOWED_TOOLS=duliday_job_list,duliday_job_details,duliday_interview_booking

# ================================
# Supabase 品牌配置存储（必填）
# ================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_BUCKET_NAME=brand-configs
SUPABASE_BRAND_CONFIG_PATH=config/brand-data.json

# ================================
# Redis 缓存配置（必填）
# ================================
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# ================================
# DuLiDay API 配置（必填）
# ================================
DULIDAY_API_TOKEN=your-duliday-token-here

# ================================
# 托管平台 API 配置（必填）
# ================================
STRIDE_API_BASE_URL=https://stride-bg.dpclouds.com
STRIDE_ENTERPRISE_API_BASE_URL=https://stride-bg.dpclouds.com/hub-api

# ================================
# 飞书告警配置（可选）
# ================================
# 启用飞书告警（默认 false）
ENABLE_FEISHU_ALERT=false
# 飞书机器人 Webhook URL
FEISHU_ALERT_WEBHOOK_URL=
# 飞书机器人签名密钥（可选）
FEISHU_ALERT_SECRET=

# ================================
# Bull 队列配置（可选，生产环境建议启用）
# ================================
# 启用 Bull 队列（默认 false，使用内存队列）
ENABLE_BULL_QUEUE=false
# Upstash Redis TCP 连接（启用 Bull 队列时必填）
# UPSTASH_REDIS_TCP_URL=rediss://default:password@your-redis.upstash.io:6379

# ================================
# 以下配置使用默认值，一般无需修改
# ================================
# AGENT_API_TIMEOUT=60000              # Agent API 超时（默认 60s）
# AGENT_API_MAX_RETRIES=5              # 最大重试次数（默认 5）
# ENABLE_AI_REPLY=true                 # 启用 AI 回复（默认 true）
# ENABLE_MESSAGE_SPLIT_SEND=true       # 启用消息分段（默认 true）
# ENABLE_MESSAGE_MERGE=true            # 启用消息聚合（默认 true）
# MAX_HISTORY_PER_CHAT=100             # 每会话最大历史（默认 100）
# HISTORY_TTL_MS=259200000             # 历史过期时间（默认 3 天）
# HTTP_CLIENT_TIMEOUT=10000            # HTTP 超时（默认 10s）
