#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# 获取当前分支名称
current_branch=$(git symbolic-ref HEAD | sed -e 's,.*/\(.*\),\1,')

# 禁止从本地推送到 master 分支
if [ "$current_branch" = "master" ]; then
  echo "❌ ERROR: Direct push to master branch is not allowed!"
  echo "Please create a feature branch and submit a pull request."
  exit 1
fi

echo "✅ Pre-push check passed!"
