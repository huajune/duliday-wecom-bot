{
  "enabled": true,
  "defaultSeverity": "error",
  "defaultThrottle": {
    "enabled": true,
    "windowMs": 300000,
    "maxOccurrences": 5
  },
  "rules": [
    {
      "name": "agent-auth-failure",
      "description": "Agent API 认证失败（401/403）- 严重告警",
      "enabled": true,
      "match": {
        "errorType": "agent",
        "errorCode": "401|403"
      },
      "severity": "critical",
      "throttle": {
        "enabled": true,
        "windowMs": 300000,
        "maxOccurrences": 3
      }
    },
    {
      "name": "agent-rate-limit",
      "description": "Agent API 请求限流（429）- 警告",
      "enabled": true,
      "match": {
        "errorType": "agent",
        "errorCode": "429"
      },
      "severity": "warning",
      "throttle": {
        "enabled": true,
        "windowMs": 600000,
        "maxOccurrences": 5
      }
    },
    {
      "name": "agent-general-error",
      "description": "Agent API 通用错误",
      "enabled": true,
      "match": {
        "errorType": "agent"
      },
      "severity": "error",
      "throttle": {
        "enabled": true,
        "windowMs": 300000,
        "maxOccurrences": 10
      }
    },
    {
      "name": "message-processing-error",
      "description": "消息处理错误",
      "enabled": true,
      "match": {
        "errorType": "message"
      },
      "severity": "warning",
      "throttle": {
        "enabled": true,
        "windowMs": 300000,
        "maxOccurrences": 10
      }
    },
    {
      "name": "message-delivery-failure",
      "description": "消息发送失败",
      "enabled": true,
      "match": {
        "errorType": "delivery"
      },
      "severity": "warning",
      "throttle": {
        "enabled": true,
        "windowMs": 300000,
        "maxOccurrences": 10
      }
    },
    {
      "name": "message-merge-failure",
      "description": "消息聚合处理失败",
      "enabled": true,
      "match": {
        "errorType": "merge"
      },
      "severity": "warning",
      "throttle": {
        "enabled": true,
        "windowMs": 300000,
        "maxOccurrences": 5
      }
    }
  ],
  "metrics": {
    "successRate": {
      "warning": 90,
      "critical": 80
    },
    "avgDuration": {
      "warning": 5000,
      "critical": 10000
    },
    "queueDepth": {
      "warning": 50,
      "critical": 100
    },
    "errorRate": {
      "warning": 10,
      "critical": 20
    }
  }
}
