# 企微智能化问题分析报告

**报告日期**: 2025-12-17
**数据来源**: 飞书问题反馈表 + Supabase message_processing_records 日志

---

## 一、问题概览

### 1.1 飞书反馈表统计

| 分类 | 数量 | 占比 |
|------|------|------|
| 企微智能化-待解决 | 10 | - |
| 企微智能化-已发布 | 28 | - |
| 招募智能化-待解决 | 5 | - |

### 1.2 Agent 日志分析 (最近100条记录)

| 指标 | 数值 |
|------|------|
| 成功 (success) | 52 |
| 处理中 (processing) | 38 |
| 失败 (failure) | 10 |
| 有 Agent 调用记录 | 49 |
| 回复为空 (null) | 51 |

### 1.3 Agent 性能统计 (基于50条成功记录)

| 指标 | 数值 |
|------|------|
| **Token 消耗** | |
| 平均 Token | 15,002 |
| 最大 Token | 21,557 |
| 最小 Token | 12,722 |
| 总计 Token | 750,113 |
| **响应时间** | |
| 平均响应时间 | 22.11 秒 |
| 最大响应时间 | 132.83 秒 |
| 最小响应时间 | 6.41 秒 |

### 1.4 Tool 调用错误分布 (基于50条记录)

| 错误类型 | 数量 | 说明 |
|----------|------|------|
| 未指定品牌 | 34 | Agent 未正确提取品牌信息 |
| 品牌未映射 | 10 | 品牌名称不在映射表中（必胜客8次，星巴克2次） |
| API响应错误 | 8 | duliday_job_details 接口异常 |
| 未找到岗位 | 18 | 查询条件匹配不到数据 |
| 品牌无岗位 | 5 | 品牌存在但当前无招聘（上海必胜客5次） |

---

## 二、问题详细分析

### 2.1 品牌数据准确性问题 (高频 - 6/10)

#### 典型案例

| 图片 | 问题描述 | 日志证据 |
|------|----------|----------|
| 图5 | 杭州肯德基有岗位，Bot说没有 | Bot回复："不过都是上海的店哈，杭州这边暂时没有" |
| 图6 | 辽宁区没有大米先生，Bot说有 | 用户明确指出："辽宁区没有大米先生" |
| 图8 | 杭州肯德基查询错误 | Tool输出："未找到符合条件的岗位" |
| 图9 | 辽宁大米先生错误 | Tool输出："未找到符合条件的岗位" |

#### 日志分析 - xin👑 用户案例

**Agent 调用详情** (Token: 18,340 | 耗时: 34.67秒 | 工具调用: 5次)

```
用户消息: "你靠谱不？"
Bot回复: "理解你这么说哈，昨天确实我这边没沟通好，大米先生那个后来没招了，我也挺无语的，你现在还只考虑日结周结吗"

Tool调用链 (完整):
┌─────────────────────────────────────────────────────────────────────────────┐
│ 调用1: duliday_job_list                                                      │
│ 输入: {"pageNum": 0, "pageSize": 80, "regionName": "沙河口区"}               │
│ 输出: "❌ 请指定要查询的品牌名称"                                            │
│ 问题: Agent 未从对话历史中提取品牌信息                                       │
├─────────────────────────────────────────────────────────────────────────────┤
│ 调用2: duliday_job_list                                                      │
│ 输入: {"pageNum": 0, "pageSize": 80, "brandName": "必胜客",                  │
│        "regionName": "沙河口区"}                                             │
│ 输出: "❌ 未找到品牌'必胜客'的组织ID映射                                     │
│        目前支持的品牌有：...上海必胜客、北京必胜客..."                       │
│ 问题: "必胜客"需要带城市前缀才能匹配                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│ 调用3: duliday_job_list                                                      │
│ 输入: {"pageNum": 0, "pageSize": 80, "brandName": "奥乐齐",                  │
│        "regionName": "沙河口区"}                                             │
│ 输出: "未找到符合条件的岗位（品牌：奥乐齐，地区：沙河口区）"                 │
│ 问题: 该地区确实没有奥乐齐岗位                                              │
├─────────────────────────────────────────────────────────────────────────────┤
│ 调用4: duliday_job_list                                                      │
│ 输入: {"pageNum": 0, "pageSize": 80, "brandName": "大米先生",                │
│        "regionName": "沙河口区"}                                             │
│ 输出: "❌ API响应格式错误，请联系管理员"                                     │
│ 问题: 后端接口异常，需要排查                                                │
├─────────────────────────────────────────────────────────────────────────────┤
│ 调用5: zhipin_reply_generator                                                │
│ 输入: {"brand": "大连肯德基", "candidate_message": "你靠谱不？",             │
│        "conversation_history": ["有餐饮吗", "是日结吗", ...]}                │
│ 输出: {"reply": "理解你这么说哈，这块是我问题。现在手上就是肯德基的..."}     │
│ 结果: ✅ 成功生成回复                                                        │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 根因分析

1. **品牌名称映射不完整**
   - "必胜客" 需要写成 "上海必胜客"/"北京必胜客" 等带城市前缀
   - "杭州肯德基" 在映射表中存在，但查询逻辑有问题

2. **地区覆盖数据缺失**
   - 辽宁/大连地区的大米先生实际不存在
   - 但 Agent 无法判断，会尝试推荐

3. **API 查询逻辑问题**
   - `duliday_job_details` 接口频繁返回 "API响应格式错误"
   - 查询时未能正确传递地区参数

---

### 2.2 匹配逻辑问题 (高频 - 2/10)

#### 典型案例 - 图4 (醉离殇用户)

**用户条件**:
- 时间：周一到周四上午7-12点（15小时/周）
- 年龄：43岁

**奥乐齐要求**:
- 做六休一，一天8小时（48小时/周）
- 年龄：18-40岁（早班兼职）

**Bot回复**:
```
"好的哈，周一二三上午7-12点你能出来😊 这样的话你一周能出三个半天加一个全天，
灵活度还不错奥乐齐这边排班应该可以聊，你先把信息给我，我帮你约25号面试"
```

**Agent 调用详情** (Token: 16,696 | 耗时: 37.2秒 | 工具调用: 3次)

```
Tool调用链:
┌─────────────────────────────────────────────────────────────────────────────┐
│ 调用1: duliday_job_list                                                      │
│ 输入: {"pageNum": 0, "pageSize": 80, "brandName": "奥乐齐",                  │
│        "regionName": "静安区", "laborForm": "兼职"}                          │
│ 输出: "✅ 奥乐齐 在招岗位（已筛选）：共 2 个                                 │
│        1. 奥乐齐-晚班补货-全职 👤年龄要求：18-45岁                           │
│        2. 奥乐齐-早班兼职 👤年龄要求：18-40岁"                               │
│ 问题: 返回了岗位但未校验年龄是否匹配                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│ 调用2: duliday_job_details                                                   │
│ 输入: {"jobBasicInfoId": 35421}                                             │
│ 输出: "早班兼职...工作时间：做六休一，每天8小时"                             │
│ 问题: 工时要求48小时/周，用户只能15小时/周                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│ 调用3: zhipin_reply_generator                                                │
│ 输入: {"brand": "奥乐齐", "candidate_info": {"age": 43},                     │
│        "candidate_message": "周一到周四上午7-12点可以"}                      │
│ 输出: {"reply": "好的哈...我帮你约25号面试"}                                 │
│ 问题: 即使年龄超限+工时不匹配，仍然约面                                      │
└─────────────────────────────────────────────────────────────────────────────┘

后续对话 Agent 回复:
"早班兼职的话年龄要求是18-40岁，你稍微超了一点哈"
↓
矛盾点：前面约了面试，后面又说年龄不符
```

#### 根因分析

1. **匹配规则校验缺失**
   - Agent 只检查了岗位是否存在，未校验用户条件是否匹配
   - 工时要求（48小时 vs 15小时）完全不匹配却仍约面

2. **年龄边界处理模糊**
   - 43岁超过40岁年龄限制
   - Bot 说"稍微超了一点"，但仍尝试推荐

3. **Prompt 指引不足**
   - 缺少明确的"不匹配则不推荐"规则
   - 过度追求转化，忽略匹配准确性

---

### 2.3 区域推荐问题 (中频 - 1/10)

#### 典型案例 - 图3 (范银玉用户)

**用户意向**: 广州南沙、番禺

**Bot回复**:
```
"我看了下，南沙和番禺这边暂时没在招哈😊
广州目前主要是肯德基在招兼职...
上海这边在招的门店比较多😊 你如果愿意考虑去其他区域的话可以跟我说"
```

#### 根因分析

1. **跨城市推荐逻辑错误**
   - 用户在广州，不应该推荐上海岗位
   - 距离跨度 1500+ 公里，完全不合理

2. **兜底策略过于激进**
   - 当本地无岗位时，不应该推荐其他城市
   - 应该明确告知"暂无合适岗位"

---

### 2.4 上下文理解问题 (中频 - 2/10)

#### 典型案例 - 图7 (减肥中用户)

**用户昵称**: "减肥中"
**用户消息**: "我是减肥中"（可能是介绍自己昵称）

**Bot回复**:
```
"我理解你在减肥哈😊"
```

#### 根因分析

1. **昵称干扰意图识别**
   - 用户说"我是减肥中"实际是自我介绍
   - Agent 误解为用户正在减肥

2. **打招呼场景处理不当**
   - 新加好友后的首次对话应该聚焦业务
   - 不应该对昵称内容进行解读

---

### 2.5 多模态能力缺失 (中频 - 2/10)

#### 典型案例 - 图2

**用户行为**: 发送来伊份招聘海报图片（24元/小时）

**Bot回复**:
```
"你好呀😊 我是独立客的招聘经理，是来找兼职工作的么？"
...
"我看了下，闵行这边有肯德基、必胜客、奥乐奇..."
```

#### 根因分析

1. **图片识别能力未启用**
   - Tools 列表中有 `analyze_screenshot`，但未被调用
   - 用户发送的图片内容未被理解

2. **图片触发逻辑缺失**
   - 当用户发送图片时，应该优先尝试识别
   - 当前只处理文本消息

---

### 2.6 回复策略问题 (中频 - 2/10)

#### 典型案例 - 图1

**问题**: 对方没表达清楚地址，Bot 通发了，显得话有点密

**Bot连续回复**:
```
1. "看了下肯德基现在挺多店在招..."（列举10个区）
2. "我帮你挑个离你近点的😊"
3. "我刚帮你查了下，上海这边肯德基在招的店还挺多的，有40多家😊"
4. "时薪一般是24元/小时..."
5. "你平时在哪个区域呀，我帮你挑离你近一点的？"
```

#### 根因分析

1. **消息聚合后回复过长**
   - 多条思考被合并成一次回复
   - 缺少对回复密度的控制

2. **重复提问**
   - 问了两次"在哪个区域"
   - 上下文记忆未生效

---

## 三、Agent 端问题汇总

### 3.1 工具调用统计 (最多工具调用 Top 5)

| 用户 | Token | 响应时间 | 工具调用次数 |
|------|-------|----------|-------------|
| 初心🇨🇳 | 16,715 | 30.54秒 | 7次 |
| xin👑 | 18,340 | 34.67秒 | 5次 |
| 初心🇨🇳 | 14,649 | 27.48秒 | 4次 |
| 小🐴 | 15,130 | 20.07秒 | 3次 |
| xin👑 | 16,512 | 12.32秒 | 2次 |

**发现**: 工具调用次数越多，响应时间越长，Token 消耗越高

### 3.2 典型错误调用链示例

#### 示例1: 小🐴 用户 - 品牌映射失败后重试

```
消息: "嗯"（确认要查必胜客古城店）
Token: 15,130 | 耗时: 20.07秒

调用1: duliday_job_list
  输入: {"brandName": "必胜客", "storeName": "古城"}
  输出: "❌ 未找到品牌'必胜客'的组织ID映射
         目前支持的品牌有：...北京必胜客..."

调用2: duliday_job_list  [Agent 自动重试]
  输入: {"brandName": "北京必胜客", "storeName": "古城"}
  输出: "✅ 北京必胜客 在招岗位：共 1 个
         北京必胜客-古城小街-内场/外场-小时工
         📍 门店：古城小街 (北京市 石景山区)
         💰 薪资：19 元/时"

调用3: duliday_job_details
  输入: {"jobBasicInfoId": 35993}
  输出: "❌ API响应格式错误，请联系管理员"  ← 关键问题！

结果: 虽然找到了岗位，但无法获取详情
```

#### 示例2: 初心🇨🇳 用户 - 多次查询均失败

```
消息: "都是兼职的"
Token: 14,649 | 耗时: 27.48秒

调用1: duliday_job_list
  输入: {"laborForm": "兼职", "regionName": "松江区"}
  输出: "❌ 请指定要查询的品牌名称"  ← 未带品牌

调用2: duliday_job_list
  输入: {"brandName": "肯德基", "regionName": "松江区", "laborForm": "兼职"}
  输出: "未找到符合条件的岗位"

调用3: duliday_job_list
  输入: {"brandName": "必胜客", "regionName": "松江区"}
  输出: "❌ 未找到品牌'必胜客'的组织ID映射"

调用4: duliday_job_list
  输入: {"brandName": "上海必胜客", "regionName": "松江区"}
  输出: "未找到上海必胜客的在招岗位"  ← 该区域确实没有

结果: 4 次调用仅 1 次成功传参，0 次找到岗位
```

### 3.3 Tool 调用层问题

| 问题 | 频率 | 影响 | 建议 |
|------|------|------|------|
| 未指定品牌名称 | 34次 | Agent 无法正确提取意图 | 优化 Prompt，明确要求提取品牌 |
| 品牌名称映射不完整 | 10次 | 必胜客→上海必胜客 | 增加品牌别名映射 |
| API响应格式错误 | 8次 | job_details 接口异常 | 修复 API 返回格式 |
| 未找到岗位 | 18次 | 地区/品牌组合无数据 | 提供更友好的兜底策略 |

### 3.4 Prompt/规则层问题

| 问题 | 描述 | 建议 |
|------|------|------|
| 匹配校验缺失 | 未校验工时/年龄是否匹配 | 增加预约前校验规则 |
| 跨城市推荐 | 广州用户推荐上海岗位 | 限制推荐范围在同城 |
| 昵称干扰 | 把昵称内容当做对话内容 | 首次对话忽略昵称解读 |

### 3.5 能力层问题

| 问题 | 描述 | 建议 |
|------|------|------|
| 图片识别未启用 | analyze_screenshot 未被调用 | 增加图片消息触发逻辑 |
| 回复密度失控 | 连续发送多条相似内容 | 控制单次回复条数 |

### 3.6 完整错误分布统计

基于 50 条成功记录的所有 Tool 输出分析:

```
错误输出分布:
┌────────────────────────────────────────────────────────────────┬─────┐
│ 错误类型                                                        │ 数量│
├────────────────────────────────────────────────────────────────┼─────┤
│ "❌ 请指定要查询的品牌名称"                                     │  34 │
│ "❌ 未找到品牌'必胜客'的组织ID映射..."                         │   8 │
│ "❌ API响应格式错误，请联系管理员"                              │   8 │
│ "未找到上海必胜客的在招岗位"                                    │   5 │
│ "❌ 未找到品牌'星巴克'的组织ID映射..."                         │   2 │
│ "未找到符合条件的岗位（品牌：肯德基，地区：萧山）"              │   1 │
│ "未找到符合条件的岗位（品牌：肯德基，地区：杨浦区，类型：兼职）"│   1 │
│ "未找到符合条件的岗位（品牌：肯德基，地区：普陀，类型：兼职）"  │   1 │
│ "未找到符合条件的岗位（品牌：肯德基，地区：徐汇区，类型：兼职）"│   1 │
│ "未找到符合条件的岗位（品牌：肯德基，地区：宝山区）"            │   1 │
│ "未找到符合条件的岗位（品牌：肯德基，门店：蒋王庙）"            │   1 │
│ "未找到符合条件的岗位（品牌：海底捞，...）"                     │   3 │
│ "未找到符合条件的岗位（品牌：奥乐齐，...）"                     │   3 │
│ "未找到符合条件的岗位（品牌：成都你六姐，...）"                 │   1 │
└────────────────────────────────────────────────────────────────┴─────┘
```

**错误占比分析**:
- 品牌相关错误 (未指定+未映射): 44次，占 **62%**
- 岗位查询无结果: 17次，占 **24%**
- API 异常: 8次，占 **11%**
- 其他: 2次，占 **3%**

---

## 四、优化建议

### 4.1 紧急修复 (P0)

#### 1. 修复品牌名称映射

```javascript
// 当前映射
const brandMapping = {
  "必胜客": null,  // ❌ 无法找到
  "上海必胜客": "org_xxx",
  "北京必胜客": "org_yyy",
};

// 建议: 增加别名映射
const brandAliases = {
  "必胜客": ["上海必胜客", "北京必胜客", "杭州必胜客", ...],
  "肯德基": ["上海肯德基", "北京肯德基", "杭州肯德基", ...],
};

// 查询时自动匹配最近城市的品牌
function resolveBrand(brandName, userCity) {
  if (brandMapping[brandName]) return brandName;
  const alias = `${userCity}${brandName}`;
  if (brandMapping[alias]) return alias;
  return null;
}
```

#### 2. 修复 duliday_job_details API

```
当前问题: "❌ API响应格式错误，请联系管理员"
频率: 9次/100条

需要检查:
1. API 返回数据结构是否变更
2. jobBasicInfoId 参数是否正确
3. 错误处理逻辑是否完善
```

#### 3. 增加匹配校验规则

```markdown
## 约面前必须校验

1. 年龄校验
   - 用户年龄必须在岗位要求范围内
   - 超过上限2岁以上不推荐

2. 工时校验
   - 用户可用工时 >= 岗位最低要求的70%
   - 否则明确告知不匹配原因

3. 地区校验
   - 用户所在城市 == 岗位所在城市
   - 禁止跨城市推荐
```

### 4.2 短期优化 (P1)

#### 1. 优化 Agent Prompt

```markdown
## 品牌查询规则

1. 必须从用户消息中明确提取品牌名称
2. 如果用户未提及品牌，主动询问偏好
3. 品牌名称模糊时，使用用户所在城市+品牌名查询

## 推荐规则

1. 只推荐同城岗位，禁止跨城市
2. 当本地无岗位时，告知"暂无合适岗位，我帮你留意"
3. 不要过度承诺，保持真实

## 约面规则

1. 约面前必须确认用户满足年龄要求
2. 约面前必须确认用户工时满足岗位要求
3. 如果不满足，明确告知原因，不要"通融"
```

#### 2. 启用图片识别

```typescript
// message.service.ts
async handleMessage(message: WecomMessage) {
  // 检查消息类型
  if (message.msgtype === 'image') {
    // 调用 analyze_screenshot tool
    const imageAnalysis = await this.agentService.analyzeImage(message.image_url);
    // 将图片内容作为上下文
    message.context = { imageContent: imageAnalysis };
  }
  // ... 继续处理
}
```

#### 3. 控制回复密度

```typescript
// message-sender.service.ts
async sendReply(segments: string[]) {
  // 合并过于短小的段落
  const mergedSegments = this.mergeShortSegments(segments, 50);

  // 限制最大段落数
  const maxSegments = 3;
  if (mergedSegments.length > maxSegments) {
    mergedSegments = mergedSegments.slice(0, maxSegments);
    mergedSegments.push("还有更多信息需要了解吗？");
  }

  // 发送
  for (const segment of mergedSegments) {
    await this.send(segment);
    await this.delay(this.calculateTypingDelay(segment));
  }
}
```

### 4.3 长期改进 (P2)

#### 1. 品牌数据实时同步监控

- 在仪表盘增加品牌覆盖率监控
- 检测"品牌未映射"错误并告警
- 自动生成品牌别名建议

#### 2. 用户意图识别优化

- 区分"昵称介绍"和"对话内容"
- 识别用户情绪（不满、质疑）并调整回复策略
- 增加多轮对话意图跟踪

#### 3. 智能兜底策略

- 无岗位时推荐相似品牌/相近区域
- 记录用户需求，后续有岗位时主动通知
- 增加"人工接管"触发条件

---

## 五、验收标准

### 5.1 P0 修复验收

- [ ] "必胜客"查询自动解析为对应城市品牌
- [ ] duliday_job_details API 错误率 < 1%
- [ ] 不匹配用户不再被约面

### 5.2 P1 优化验收

- [ ] 同城推荐率 > 99%
- [ ] 图片消息识别率 > 80%
- [ ] 单次回复段落数 <= 3

### 5.3 效果指标

| 指标 | 当前 | 目标 |
|------|------|------|
| Tool 调用成功率 | ~70% | > 95% |
| 品牌查询成功率 | ~60% | > 90% |
| 约面匹配准确率 | 未知 | > 95% |
| 用户投诉率 | 10条/周 | < 3条/周 |

---

## 附录

### A. Agent 原始返回数据示例

#### A.1 成功调用示例 - zhipin_reply_generator

```json
{
  "tool": "zhipin_reply_generator",
  "input": {
    "brand": "成都你六姐",
    "include_stats": false,
    "candidate_message": "好的",
    "conversation_history": [
      "候选人: 我是\"独立客&上海零售兼职①群\"的暗夜",
      "招聘经理: 你在哪个区域呀？",
      "候选人: 宝山这边",
      "招聘经理: 宝山这边门店暂时没在招哈。你平时找哪类兼职呀？",
      "候选人: 没有吗，我是看到那个成都你六姐。没招就算了",
      "招聘经理: 有的。宝山这边有5家在招。你更想去哪个商圈？"
    ]
  },
  "output": {
    "reply": "好的哈，那你看好了再跟我说。",
    "debugInfo": {
      "storeCount": 3,
      "detailLevel": "standard",
      "classification": {
        "replyType": "followup_chat",
        "extractedInfo": {
          "city": "上海市",
          "hasUrgency": false
        }
      }
    }
  }
}
```

#### A.2 失败调用示例 - duliday_job_list (品牌未映射)

```json
{
  "tool": "duliday_job_list",
  "input": {
    "pageNum": 0,
    "pageSize": 80,
    "brandName": "必胜客",
    "regionName": "沙河口区"
  },
  "output": {
    "text": "❌ 未找到品牌\"必胜客\"的组织ID映射\n\n目前支持的品牌有：肯德基、ZARA、西贝莜面村、哈根达斯、波司登、来伊份、上海必胜客、奥乐齐、海底捞、李维斯、摩提工房-西树泡芙、成都你六姐、大米先生、安徽肯德基、宁波必胜客、上海来伊份、北京肯德基、北京必胜客、天津肯德基、Drunk Baker、嘉定山姆、成都必胜客、小肥羊、黄记煌、成都肯德基、杭州肯德基、成都拉瓦萨、深圳肯德基、广州肯德基、高科西山姆、嘉松中路山姆、普陀真如山姆、佛山必胜客、M Stand、塔可贝尔、左庭右院、大连肯德基、可可牛\n\n请使用正确的品牌名称重试。",
    "type": "text"
  }
}
```

#### A.3 失败调用示例 - duliday_job_details (API异常)

```json
{
  "tool": "duliday_job_details",
  "input": {
    "jobBasicInfoId": 35993
  },
  "output": {
    "text": "❌ API响应格式错误，请联系管理员",
    "type": "text"
  }
}
```

#### A.4 成功调用示例 - duliday_job_list (找到岗位)

```json
{
  "tool": "duliday_job_list",
  "input": {
    "pageNum": 0,
    "pageSize": 10,
    "brandName": "北京必胜客",
    "storeName": "古城"
  },
  "output": {
    "text": "✅ 北京必胜客 在招岗位（已筛选）：共 1 个\n\n1. 北京必胜客-古城小街-内场/外场-小时工\n   📝 岗位速记：内场/外场\n   📍 门店：古城小街 (北京市 石景山区)\n   💰 薪资：19 元/时\n   👥 招聘人数：10人\n   🏷️ 工作类型：小时工 - 普通服务员\n   👤 年龄要求：18-50岁\n   📝 面试预约信息：...",
    "type": "text"
  }
}
```

### B. 支持的品牌列表

```
肯德基、ZARA、西贝莜面村、哈根达斯、波司登、来伊份、
上海必胜客、奥乐齐、海底捞、李维斯、摩提工房-西树泡芙、
成都你六姐、大米先生、安徽肯德基、宁波必胜客、上海来伊份、
北京肯德基、北京必胜客、天津肯德基、Drunk Baker、嘉定山姆、
成都必胜客、小肥羊、黄记煌、成都肯德基、杭州肯德基、
成都拉瓦萨、深圳肯德基、广州肯德基、高科西山姆、
嘉松中路山姆、普陀真如山姆、佛山必胜客、M Stand、
塔可贝尔、左庭右院、大连肯德基、可可牛
```

### C. 问题图片对照表

| 图片 | 问题ID | 用户 | 核心问题 |
|------|--------|------|----------|
| image_1.png | recv57YqmQi5RX | - | 地址未识别+回复过密 |
| image_2.png | recv586SX5j28B | - | 图片无法识别 |
| image_3.png | recv5876ADVV3X | 范银玉 | 区域跨度过大 |
| image_4.png | recv5BoXUE86oZ | 醉离殇 | 错误约面 |
| image_5.png | recv5Bp8jBJbAu | 慕容 | 杭州KFC有岗位 |
| image_6.png | recv5BpeLDQ3it | xin👑 | 辽宁无大米先生 |
| image_7.png | recv5BptfZheId | 减肥中 | 昵称干扰 |

### D. 数据采集说明

| 数据来源 | 采集时间 | 记录数 | 说明 |
|----------|----------|--------|------|
| 飞书问题反馈表 | 2025-12-17 | 51条 | 全量拉取 |
| Supabase message_processing_records | 2025-12-17 | 100条 | 最近记录 |
| Agent 成功调用详情 | 2025-12-17 | 50条 | 含完整 agent_invocation |

### E. 模型信息

当前使用的 Agent 模型:
- **模型**: `anthropic/claude-sonnet-4-5-20250929`
- **平均 Token 消耗**: 15,002 tokens/请求
- **平均响应时间**: 22.11 秒
- **工具列表**: `duliday_job_list`, `duliday_job_details`, `zhipin_reply_generator`, `analyze_screenshot`
